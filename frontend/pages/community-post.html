<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>커뮤니티 글 상세 - aimyon archive</title>
    <link rel="stylesheet" href="../assets/css/common.css">
    <link rel="stylesheet" href="../assets/css/pages.css">
</head>
<body>
<div id="header-placeholder"></div>

<main class="community-post-page">
    <section class="community-post">
        <div class="container">
            <div id="postStatus" class="community-status" aria-live="polite"></div>
            <div class="post-layout">
                <article class="post-main">
                    <header class="post-header">
                        <div class="post-headline">
                            <h1 id="cpTitle" class="post-title">로딩 중...</h1>
                        </div>
                        <div class="post-meta-row">
                            <div class="post-author-meta">
                                <span class="post-meta-label">작성자</span>
                                <span id="cpAuthor" class="post-author">-</span>
                                <span class="meta-separator">&middot;</span>
                                <span id="cpDate" class="post-date"></span>
                            </div>
                            <div class="post-stats-group">
                                <span class="post-stat"><span class="label">조회</span><span id="cpViewCount">0</span></span>
                                <span class="post-stat"><span class="label">추천</span><span id="cpLikeCountMeta">0</span></span>
                                <span class="post-stat"><span class="label">댓글</span><span id="cpCommentCountMeta">0</span></span>
                            </div>
                        </div>
                    </header>

                    <article id="cpContent" class="post-body"></article>

                    <section class="post-reactions">
                        <div class="reaction-grid">
                            <button id="likeButton" class="reaction-tile reaction-tile--like" type="button">
                                <span class="tile-icon" aria-hidden="true">★</span>
                                <span class="tile-title">추천</span>
                                <span id="likeCount" class="tile-value">0</span>
                            </button>
                            <button id="shareButton" class="reaction-tile reaction-tile--share" type="button">
                                <span class="tile-icon" aria-hidden="true">↗</span>
                                <span class="tile-title">공유</span>
                                <span class="tile-helper">URL 복사</span>
                            </button>
                        </div>
                    </section>

                    <section class="post-comments">
                        <header class="comments-header">
                            <h2 class="comments-title">댓글</h2>
                            <div class="comments-controls">
                                <span class="comments-total" id="commentTotalLabel">전체 댓글 <strong>0</strong>개</span>
                                <div class="comments-sort">
                                    <button class="sort-button sort-button--active" type="button" data-sort="recent">최신순</button>
                                    <button class="sort-button" type="button" data-sort="oldest">등록순</button>
                                    <button class="sort-button" type="button" data-sort="reply">답글순</button>
                                </div>
                            </div>
                        </header>

                        <div id="commentList" class="comment-list"></div>

                        <form id="commentForm" class="comment-form">
                            <div class="comment-form-header">
                                <span class="comment-writer-label">작성자</span>
                                <span class="comment-writer-name" id="commentWriterLabel">-</span>
                            </div>
                            <textarea id="commentInput" placeholder="타인을 존중하는 댓글이 아름다운 아카이브를 만듭니다." required></textarea>
                            <div class="comment-form-footer">
                                <span id="commentStatus" class="comment-status"></span>
                                <div class="comment-form-actions">
                                    <button type="button" class="comment-extra-btn">이모지</button>
                                    <button type="submit" class="comment-submit">등록</button>
                                </div>
                            </div>
                        </form>
                    </section>

                    <div class="post-footer-actions" style="margin-top: 16px; display: flex; gap: 8px; justify-content: flex-end;">
                        <a id="backToListBtn" class="btn btn-secondary btn-compact" href="community.html">목록</a>
                        <button id="postDeleteButton" class="btn btn-secondary btn-compact" type="button" style="display:none;">삭제</button>
                    </div>
                </article>
            </div>
        </div>
    </section>
    
</main>

<div id="footer-placeholder"></div>

<script src="../assets/js/common.js"></script>
<script src="../assets/js/community-post.clean.js"></script>
</body>
</html>

